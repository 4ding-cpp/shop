(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{512:function(t,e,r){var content=r(524);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(13).default)("e236057a",content,!0,{sourceMap:!1})},523:function(t,e,r){"use strict";var o=r(512);r.n(o).a},524:function(t,e,r){(e=r(12)(!1)).push([t.i,"a .fa-heart[data-v-2264f19a]{color:red}a .fa-heart.no[data-v-2264f19a],a .fa-heart[data-v-2264f19a]:hover{color:#ccc}a .fa-heart.no[data-v-2264f19a]:hover{color:red}.shipping-item[data-v-2264f19a]{height:auto}#TabContent[data-v-2264f19a]{border:1px solid #e6e6e6;border-top:0 solid #dee2e6;padding:12px;min-height:50px}.active-block[data-v-2264f19a]{box-sizing:border-box;width:100%;float:left;margin-left:0;margin-right:0;border:1px solid #d4d9de;border-top:3px solid #4a4e5c;padding:16px;margin-top:30px}.active-block h3[data-v-2264f19a]{font-size:.8em;line-height:1.5;color:#4a4e5c;font-weight:400}.active-block .active-item[data-v-2264f19a]{font-size:12px;line-height:1;color:#ff2750;border:1px solid #ff2750;padding:4px;min-width:72px;box-sizing:border-box;text-align:center;margin-right:10px}.product-info .title[data-v-2264f19a]{color:#898989;margin:5px 0;font-weight:300;font-size:smaller}",""]),t.exports=e},531:function(t,e,r){"use strict";r.r(e);r(6),r(4),r(5),r(61),r(73);var o=r(0),n=(r(3),r(2),r(18),r(14),r(1)),c=r(15);r(17);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var d,v,f,h,_,m={data:function(){return{favorte:!1,breadcrumb_info:{},product_info:{},activity:[],specx:"",count:1,blockContent:[]}},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,o,n,c,data,l,i,d,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.context,r=t.app,o=t.store,n=t.route,c=t.redirect,"string"!=typeof n.params.id&&c.go(-1),data={breadcrumb_info:{name:"熱門商品",key:"product",url:"/class/",prod:""}},e.next=5,o.dispatch("product/browse_product",{app:r,token:o.state.account.token,condition:{id:n.params.id}});case 5:if(l=e.sent,console.log("p:",l),200!==l.code){e.next=23;break}e.t0=regeneratorRuntime.keys(l.data.block);case 9:if((e.t1=e.t0()).done){e.next=18;break}return i=e.t1.value,d=l.data.block[i],e.next=14,r.$axios.get(d.url).then((function(t){return t.data}));case 14:v=e.sent,l.data.block[i].content=v,e.next=9;break;case 18:data.product_info=l.data,data.activity=data.product_info.activity,data.specx=null!==data.product_info.specx?data.product_info.specx[0].sku:"",data.breadcrumb_info.url+=data.product_info.class_id,data.breadcrumb_info.prod=data.product_info.name.tw;case 23:return e.abrupt("return",data);case 24:case"end":return e.stop()}}),e)})))()},watch:{},computed:{},created:function(){},methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.b)({loading:"loading",get_template:"other/get_template",_store:"_store"}),{specxName:function(data){var t="";return data.forEach((function(element){t+=element.tw})),t},getFavorite:(_=Object(n.a)(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new this.sqlpb.Condition).setF("shell_id").setV(this.product_info.shell_id),t.next=4,this.$store.dispatch("product/get_MyFavorite",{condition:e});case 4:if(0!==(r=t.sent).code){t.next=7;break}return t.abrupt("return",!1);case 7:r.data.includes(String(this.product_info.shell_id))&&(this.favorte=!0);case 8:case"end":return t.stop()}}),t,this)}))),function(){return _.apply(this,arguments)}),toggleFavorte:function(){this.favorte?this.delFavorite():this.addFavorite()},delFavorite:(h=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("product/del_MyFavorite",{condition:{id:this.product_info.shell_id}});case 2:e=t.sent,console.log("del:",e),200==e.code?(this.$toast.success("已取消我的最愛"),this.favorte=!1):this.$toast.error("取消失敗 ".concat(e.data));case 5:case"end":return t.stop()}}),t,this)}))),function(){return h.apply(this,arguments)}),addFavorite:(f=Object(n.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("product/set_MyFavorite",{condition:{id:this.product_info.shell_id,pid:this.product_info.product_id}});case 2:e=t.sent,console.log("addFavorite",e),200==e.code?(this.$toast.success("已新增我的最愛"),this.favorte=!0):this.$toast.error("新增失敗 ".concat(e.data));case 5:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)}),cartJoin:function(){var p=this.product_info;console.log(p);var data={shell_id:p.shell_id,sku:this.specx,name:{tw:p.name.tw},price:p.price,photox:[{src:null===p.photox?"/images/noprod.png":"".concat(p.photox[0].src)}],amount:this.count};this._store({act:"cart/add_cart",data:data}),this.$toast.success("加入到購物車")},toStep1:(v=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.cartJoin();case 2:this.$router.push("/cart/step1");case 3:case"end":return t.stop()}}),t,this)}))),function(){return v.apply(this,arguments)})}),mounted:(d=Object(n.a)(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading(!0),t.next=3,this.getFavorite();case 3:setTimeout((function(){e.loading(!1)}),2e3);case 4:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},x=(r(523),r(7)),component=Object(x.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"page"}},[r("section",{staticClass:"content"},[r("div",{staticClass:"container"},[r("Breadcrumb",{attrs:{data:t.breadcrumb_info}})],1),t._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"sidebar col-md-3 pt-3 mb-4"},[r("Sidebar")],1),t._v(" "),t.product_info.name?r("div",{staticClass:"content col-md-9"},[r("div",{staticClass:"row pb-5"},[r("div",{staticClass:"col-md-6"},[r("section",{},[r("CarouselProduct",{attrs:{lists:t.product_info.photox}})],1),t._v(" "),r("section",{staticClass:"active-block"},[r("h3",[t._v("本商品適用活動")]),t._v(" "),t._l(t.activity,(function(e,i){return r("div",{staticClass:"d-flex"},[r("div",{staticClass:"active-item mb-3"},[t._v("活動")]),t._v(" "),r("div",[t._v(t._s(e.name.tw))])])}))],2)]),t._v(" "),r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"product-info"},[r("div",{staticClass:"cart-button"},[r("a",{attrs:{href:"#"}},[r("i",{staticClass:"fas fa-heart fa-2x",class:{no:!1===t.favorte},on:{click:t.toggleFavorte}})])]),t._v(" "),r("h4",[t._v(t._s(t.product_info.name.tw))]),t._v(" "),r("div",[t._v("規格:")]),t._v(" "),r("div",{staticClass:"row"},t._l(t.product_info.specx,(function(e,o){return r("div",{staticClass:"col-md-4 p-2 mb-3"},[r("ButtonChoice",{attrs:{title:t.specxName(e.itemx),free:!1,active:t.specx===e.sku},on:{selected:function(r){t.specx=e.sku}}})],1)})),0),t._v(" "),r("div",{staticClass:"row flex-md-column"},[r("div",{staticClass:"title"},[t._v("優惠售價")]),t._v(" "),r("div",{staticClass:"price"},[r("span",{staticClass:"offer line-through"},[t._v("NT$ "+t._s(t.product_info.price))]),t._v(" "),r("span",{staticClass:"originalPrice"},[t._v("NT$"+t._s(t.product_info.original))])]),t._v(" "),r("hr",{staticStyle:{margin:"25px 0 30px"}})]),t._v(" "),r("div",{staticClass:"row flex-md-column"},[r("div",{staticClass:"title"},[t._v("供貨狀況")]),t._v(" "),r("div",{staticClass:"d-flex"},[r("div",{staticClass:"col-md-6 p-1"},[r("Select1",{attrs:{opt:[{title:"NT$ "+t.product_info.price+" (市價:NT$ "+t.product_info.original+")",value:t.product_info.price}]}})],1),t._v(" "),r("div",{staticClass:"col-md-6 p-1"},[r("ButtonSubAdd",{attrs:{count:t.count,type:"full"},on:{"update:count":function(e){t.count=e}}})],1)]),t._v(" "),r("div",{staticClass:"d-flex mt-1"},[r("div",{staticClass:"col-md-6 p-1"},[r("button",{staticClass:"btn-block l-btn btn-secondary",on:{click:function(e){return t.cartJoin()}}},[t._v("加入購物車")])]),t._v(" "),r("div",{staticClass:"col-md-6 p-1"},[r("button",{staticClass:"w-100 checkout-btn l-btn",on:{click:function(e){return t.toStep1()}}},[t._v("立即結帳")])])])]),t._v(" "),r("div",{staticClass:"row mt-3"},[r("div",{staticClass:"col-md-12 p-1"},[r("button",{staticClass:"btn btn-sm btn-love",on:{click:t.addFavorite}},[r("i",{staticClass:"fas fa-heart"}),t._v(" 加到最愛\n                    ")])])])])])]),t._v(" "),null!==t.product_info.block?r("ul",{staticClass:"nav nav-tabs",attrs:{id:"Tab",role:"tablist"}},t._l(t.product_info.block,(function(e,i){return r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",class:{active:0==i},attrs:{"data-toggle":"tab",href:"#tab_"+i,"aria-controls":"tab_"+i}},[t._v(t._s(e.title.tw))])])})),0):t._e(),t._v(" "),null!==t.product_info.block?r("div",{staticClass:"tab-content mb-5",attrs:{id:"TabContent"}},t._l(t.product_info.block,(function(e,i){return r("div",{staticClass:"tab-pane fade",class:{"active show":0==i},attrs:{id:"tab_"+i,role:"tabpanel"},domProps:{innerHTML:t._s(e.content)}})})),0):t._e(),t._v(" "),r("div",{staticClass:"history p-2"},[t._v("瀏覽紀錄")]),t._v(" "),r("div",{staticClass:"history-contect mb-5"}),t._v(" "),t._m(0),t._v(" "),t._m(1)]):t._e()])]),t._v(" "),t._m(2)]),t._v(" "),r("Footers")],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"nav nav-tabs",attrs:{id:"Tab",role:"tablist"}},[e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link active",attrs:{id:"home-tab","data-toggle":"tab",href:"#home",role:"tab","aria-controls":"home","aria-selected":"true"}},[this._v("本分類熱銷")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tab-content mb-2",attrs:{id:"TabContent"}},[e("div",{staticClass:"tab-pane fade show active",attrs:{id:"home",role:"tabpanel","aria-labelledby":"home-tab"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chat"},[e("i",{staticClass:"fas fa-comments"})])}],!1,null,"2264f19a",null);e.default=component.exports}}]);