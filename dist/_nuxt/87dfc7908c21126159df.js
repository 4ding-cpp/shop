(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{457:function(t,e,r){var content=r(467);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(13).default)("2dfe21ed",content,!0,{sourceMap:!1})},466:function(t,e,r){"use strict";var n=r(457);r.n(n).a},467:function(t,e,r){(e=r(12)(!1)).push([t.i,".cart-content-container[data-v-5ac2783c]{padding-left:18px;padding-right:4px;margin-bottom:8px;display:flex;justify-content:space-between;align-items:center;font-size:15px}.cart-content-container.ecoupon-entry__content[data-v-5ac2783c]{display:flex;flex-wrap:wrap;margin-top:14px;margin-bottom:14px}.cart-content-container.ecoupon-entry__action[data-v-5ac2783c]{display:flex;padding:16px;font-size:16px;width:20px;cursor:pointer}.total[data-v-5ac2783c]{color:#999;font-size:.8em;background:#e6e6e6;padding:10px}.total .title[data-v-5ac2783c]{font-size:14px;color:#333;font-weight:bolder}.total .total-money[data-v-5ac2783c]{color:#ff5353;font-size:18px;font-weight:bolder}.bord-top-dash[data-v-5ac2783c]{border-top:1px dashed #a8a0a0}p[data-v-5ac2783c]{font-size:15px;color:#333;font-weight:700;padding-bottom:0;cursor:default}.table td[data-v-5ac2783c],.table th[data-v-5ac2783c]{vertical-align:middle}",""]),t.exports=e},479:function(t,e,r){"use strict";r.r(e);r(5),r(3),r(11),r(2),r(1),r(4);var n=r(0),c=(r(16),r(6)),o=r(14),d=r(28),l=r(219),f=r.n(l);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var _,m={data:function(){return{cart:{count:0,money:0,list:{}},imgesUrl:"https://assets.4ding.site",commodity:[],activity:[],purchase:[{image:"/images/prod01.jpg",name:"輕柔空氣感彩妝刷",price:"680",offer:"249"}]}},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.context,t.app,t.store,t.route;case 1:case"end":return e.stop()}}),e)})))()},watch:{"$store.state.cart.content":{handler:function(t){this.cart.list=Object.assign({},t)},deep:!0}},computed:{},methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.b)({loading:"loading",_store:"_store"}),{total:function(){var t=this,e=0,r=0;return Object.keys(this.cart.list).forEach((function(n){r+=Number(t.cart.list[n].count),e+=Number(t.cart.list[n].price)*Number(t.cart.list[n].count)})),this.cart.money=e,this.cart.count=r,e},get_completeCar:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n,c,o,l,v,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if({},r=t.cart.list,n=t.$store.state.cart.info,c=f()(r).map((function(t){return{count:t.count,normal:t.normal,sku:t.sku}})),null!=r&&null!=n.id){e.next=6;break}return e.abrupt("return");case 6:return o=d.Struct.fromJavaScript({commodity:c}),e.next=9,t.$store.dispatch("cart/get_completeCar",{app:t,token:t.$store.state.other.token,condition:o});case 9:if(200===(l=e.sent).code){for(i in n={state:1,id:l.data.car_id},t.commodity=l.data.commodity,t.activity=l.data.activity,v={},t.commodity)v["".concat(t.commodity[i].normal,"-").concat(t.commodity[i].sku)]=t.commodity[i];t._store({act:"cart/set_cart_info",data:{state:1,id:l.data.car_id}}),t._store({act:"cart/set_cart",data:v})}case 11:case"end":return e.stop()}}),e)})))()},add_cart:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e._store({act:"cart/set_one_cart",data:t});case 2:return r.next=4,e.get_completeCar();case 4:case"end":return r.stop()}}),r)})))()},del_cart:function(i){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._store({act:"cart/del_cart",data:t.commodity[i]}),t.commodity.splice(i,1),e.next=4,t.get_completeCar();case 4:case"end":return e.stop()}}),e)})))()}}),beforeCreate:function(){},created:function(){},beforeMount:function(){},mounted:(_=Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading(!1),this.cart.list=this.$store.state.cart.content,t.next=4,this.get_completeCar();case 4:case"end":return t.stop()}}),t,this)}))),function(){return _.apply(this,arguments)}),beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){}},h=(r(466),r(9)),component=Object(h.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"page"}},[r("section",{staticClass:"content"},[r("Step"),t._v(" "),r("div",{staticClass:"container"},[r("table",{staticClass:"table"},[t._m(0),t._v(" "),r("tbody",t._l(t.commodity,(function(e,i){return r("tr",[r("td",[r("img",{attrs:{src:""+t.imgesUrl+e.photo.src,alt:"",width:"80px"}})]),t._v(" "),r("td",[t._v(t._s(e.name.tw))]),t._v(" "),r("td",[t._v(t._s(e.normal))]),t._v(" "),r("td",[t._v("NT$"+t._s(e.price))]),t._v(" "),r("td",[r("ButtonSubAdd",{attrs:{data:e,count:e.count},on:{"update:data":function(t){e=t},"update:count":function(r){return t.$set(e,"count",r)},after_change:t.add_cart}})],1),t._v(" "),r("td",[t._v(t._s(e.count*e.price))]),t._v(" "),r("td",[r("i",{staticClass:"fas fa-trash-alt",on:{click:function(e){return t.del_cart(i)}}})])])})),0),t._v(" "),0==t.commodity.length?r("thead",[r("th",{staticClass:"text-center text-danger",attrs:{colspan:"7"}},[t._v("無資料")])]):t._e()]),t._v(" "),r("div",{staticClass:"row"},[t._m(1),t._v(" "),r("div"),t._v(" "),r("div",{staticClass:"total col-lg-6"}),t._v(" "),r("div",{staticClass:"total col-lg-6"},[t._m(2),t._v(" "),r("div",{staticClass:"col-md-12 d-flex justify-content-between p-2"},[r("div",{},[t._v("商品小計")]),t._v(" "),r("div",{},[t._v("NT$"+t._s(t.total()))])]),t._v(" "),r("div",{staticClass:"col-md-12 d-flex justify-content-between bord-top-dash p-2"},[r("div",{},[t._v("共"+t._s(t.cart.count)+"項")]),t._v(" "),r("div",{staticClass:"total-money"},[t._v("NT$"+t._s(t.cart.money))])]),t._v(" "),r("div",{staticClass:"col-md-12"},[r("nuxt-link",{staticClass:"w-100 btn btn-outline-primary btn-sm",attrs:{tag:"button",to:"/cart/step2"}},[t._v("下一步")])],1)])]),t._v(" "),r("div",{staticClass:"purchase row"},[r("div",{staticClass:"col-lg-12 col-md-12 col-xs-12 p-2 title"},[t._v("加購專區")]),t._v(" "),t._l(t.purchase,(function(t){return r("div",{staticClass:"card col-lg-3 col-md-3 col-xs-6 p-2"},[r("Purchase")],1)}))],2)])],1)])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("th",[t._v("圖片")]),t._v(" "),r("th",[t._v("名稱")]),t._v(" "),r("th",[t._v("規格")]),t._v(" "),r("th",[t._v("單價")]),t._v(" "),r("th",{attrs:{width:"18%"}},[t._v("數量")]),t._v(" "),r("th",[t._v("小計")]),t._v(" "),r("th")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-lg-12 bord-top-dash p-2"},[e("div",{staticClass:"cart-content-container"},[e("div",{staticClass:"ecoupon-entry__content"},[e("i",{staticClass:"fas fa-cart-plus"}),this._v(" "),e("span",{staticClass:"ecoupon-entry__title"},[this._v("折價券")])]),this._v(" "),e("div",{staticClass:"ecoupon-entry__action"},[e("i",{staticClass:"fa fa-angle-right",attrs:{"aria-hidden":"true"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-12 d-flex justify-content-between p-2"},[e("div",{staticClass:"title"},[this._v("一般會員")]),this._v(" "),e("div",{})])}],!1,null,"5ac2783c",null);e.default=component.exports}}]);